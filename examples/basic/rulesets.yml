- name: Protect default branch
  target: branch
  enforcement: active
  conditions:
    ref_name:
      exclude: []
      include:
        - ~DEFAULT_BRANCH
  rules:
    - type: pull_request
      parameters:
        required_approving_review_count: 1
        dismiss_stale_reviews_on_push: true
        required_reviewers: []
        require_code_owner_review: false
        require_last_push_approval: true
        required_review_thread_resolution: true
        allowed_merge_methods:
          - merge
          - squash
          - rebase
    - type: required_signatures
    - type: deletion
    - type: non_fast_forward
  bypass_actors: []
